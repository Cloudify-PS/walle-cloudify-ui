<div class="cosmo-layout" id="deployments">

    <div class="content-header">
        <!--<div class="breadcrumbs">Deployments</div>-->
        <div class="breadcrumbs"><ul id="deployments" breadcrumbs></ul></div>
    </div>

    <table ng-show="!cosmoConnectionOk()">
        <tr ng-repeat="blueprint in blueprints">
            <td>

                <table>
                    <tr class="blueprint-name">
                        <td ng-click="showDeployments(blueprint.id)">{{blueprint.name}}</td>
                    </tr>
                    <tr ng-show="selectedBlueprint == blueprint.id">
                        <td>
                            <div ng-show="blueprint.deployments == null">No Deployments</div>
                            <table class="table table-striped" ng-show="blueprint.deployments != null">
                                <tr>
                                    <td class="id">ID</td>
                                    <td class="create">Create date</td>
                                    <td class="update">Updated</td>
                                    <td class="actions">Action</td>
                                </tr>
                                <tr ng-repeat="deployment in blueprint.deployments">
                                    <td class="id" ng-click="redirectTo(deployment)">{{deployment.id}}</td>
                                    <td class="create">{{deployment.createdAt}}</td>
                                    <td class="description">{{deployment.updatedAt}}</td>
                                    <td class="actions">
                                        <select ng-model="selectedWorkflow" ng-options="option.name as option.name for option in getWorkflows(deployment)" ng-change="workflowSelected(selectedWorkflow)">
                                            <option value="">-- Select workflow --</option>
                                        </select>
                                        <i class="fa fa-play-circle-o" ng-click="executeDeployment(deployment, selectedWorkflow)" ng-class="{disable: !isExecuteEnabled()}"></i>
                                        <i ng-class="{deploymentExecute: isExecuting(deployment.id)}" ng-show="isExecuting(deployment.id)"></i>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>

            </td>
        </tr>
    </table>
    <div class="no-blueprints-message" ng-show="blueprints.length == 0">No Blueprints</div>
    <div class="connect-error-message" ng-show="cosmoConnectionOk()">Error connecting to Cosmo server</div>
</div>