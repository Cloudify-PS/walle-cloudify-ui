<div class="properties-panel right-panel" ng-hide="!showProperties">
    <div class="title">
        {{showProperties.general.name}} Details
        <i ng-click="hideProperties()" class="fa fa-times-circle right close-properties-button"></i>
    </div>

    <div class="content">

        <select ng-model="selectedNode" ng-change="nodeSelected(selectedNode)" ng-options="node.id for node in selectNodesArr">
            <option value="">{{ 'plans.all' | i18n }}</option>
        </select>
        <div class="selectbox-arrow"></div>

        <div class="buttons-group no-embed" checkbox-toggle value="propSection" ng-show="selectedNode != null">
            <button ng-repeat="(key, value) in showProperties" type="button" class="btn btn-default" ng-class="{active: key == propSection}" value="{{key}}">{{ 'plans.' + key | i18n }}</button>
        </div>

        <div ng-switch="section" class="content-section">

            <div ng-switch="propSection" class="content-section prop-section">
                <div ng-switch-default="general">
                    <table>
                        <tr>
                            <td>{{ 'plans.details.key' | i18n }}</td>
                            <td>{{ 'plans.details.value' | i18n }}</td>
                        </tr>
                        <tr ng-repeat="(key, value) in showProperties.general">
                            <td>{{getPropertyKeyName(key)}}</td><td>{{value}}</td>
                        </tr>
                    </table>
                </div>
                <div ng-switch-when="properties">
                    <table>
                        <tr>
                            <td>{{ 'plans.details.key' | i18n }}</td>
                            <td>{{ 'plans.details.value' | i18n }}</td>
                        </tr>
                        <tr ng-repeat="(key, value) in showProperties.properties">
                            <td>{{key}}</td><td>{{value}}</td>
                        </tr>
                    </table>
                </div>
                <div ng-switch-when="relationships">
                    <div class="no-properties" ng-show="showProperties.relationships.length == undefined">{{ 'plans.details.noRelationships' | i18n }}</div>

                    <table class="relationships-table" ng-show="showProperties.relationships.length != undefined">
                        <tr>
                            <td class="relationships-target">{{ 'plans.details.target' | i18n }}</td>
                            <td class="relationships-type">{{ 'plans.details.type' | i18n }}</td>
                            <td class="relationships-source">{{ 'plans.details.source' | i18n }}</td>
                        </tr>
                        <tr ng-repeat="relationship in showProperties.relationships">
                            <td colspan="3">
                                <table class="interfaces-table">
                                    <tr ng-click="showRelationship(relationship)">
                                        <td class="relationships-target"><div class="relationship-arrow right" ng-class="{'down': selectedRelationship == relationship, 'right': selectedRelationship != relationship}"></div>{{relationship.target_id}}</td>
                                        <td class="relationships-type">{{relationship.type}}</td>
                                        <td class="relationships-source">{{showProperties.general.name}}</td>
                                    </tr>
                                    <tr ng-show="selectedRelationship.target_id == relationship.target_id && selectedRelationship.type == relationship.type">
                                        <td colspan="3">
                                            <table>
                                                <tr>
                                                    <td>{{ 'plans.details.interface' | i18n }}</td>
                                                    <td>{{ 'plans.details.methods' | i18n }}</td>
                                                </tr>
                                                <tr ng-repeat="(key, value) in relationship.target_interfaces">
                                                    <td>{{key}}</td>
                                                    <td>
                                                        <ul ng-repeat="val in value">
                                                            <li>{{val}}</li>
                                                        </ul>
                                                    </td>
                                                </tr>
                                            </table>

                                        </td>
                                    </tr>
                                </table>

                            </td>
                        </tr>
                    </table>

                </div>

                <pre ng-switch-when="interfaces">{{showProperties.interfaces}} </pre>

                <div ng-switch-when="overview">
                    <div ng-repeat="node in selectNodesArr">
                        <div class="overview-node-name">{{node.id}}</div>
                        <table class="overview-data">
                            <tr>
                                <td>{{ 'plans.details.key' | i18n }}</td>
                                <td>{{ 'plans.details.value' | i18n }}</td>
                            </tr>
                            <tr ng-repeat="(key, value) in getNodeStateData(node.id)">
                                <td>{{key}}</td><td>{{value}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>